{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/dev/dev.component.html","webpack:///./src/app/dev/dev.component.scss","webpack:///./src/app/dev/dev.component.ts","webpack:///./src/app/game-board/game-board.component.html","webpack:///./src/app/game-board/game-board.component.scss","webpack:///./src/app/game-board/game-board.component.ts","webpack:///./src/app/game-over-page/game-over-page.component.html","webpack:///./src/app/game-over-page/game-over-page.component.scss","webpack:///./src/app/game-over-page/game-over-page.component.ts","webpack:///./src/app/lobby-page/lobby-page.component.html","webpack:///./src/app/lobby-page/lobby-page.component.scss","webpack:///./src/app/lobby-page/lobby-page.component.ts","webpack:///./src/app/mission-page/mission-page.component.html","webpack:///./src/app/mission-page/mission-page.component.scss","webpack:///./src/app/mission-page/mission-page.component.ts","webpack:///./src/app/role-reveal-page/role-reveal-page.component.html","webpack:///./src/app/role-reveal-page/role-reveal-page.component.scss","webpack:///./src/app/role-reveal-page/role-reveal-page.component.ts","webpack:///./src/app/session-info-bar/session-info-bar.component.html","webpack:///./src/app/session-info-bar/session-info-bar.component.scss","webpack:///./src/app/session-info-bar/session-info-bar.component.ts","webpack:///./src/app/team-pick-page/team-pick-page.component.html","webpack:///./src/app/team-pick-page/team-pick-page.component.scss","webpack:///./src/app/team-pick-page/team-pick-page.component.ts","webpack:///./src/app/vote-page/vote-page.component.html","webpack:///./src/app/vote-page/vote-page.component.scss","webpack:///./src/app/vote-page/vote-page.component.ts","webpack:///./src/enums/game-outcome.enum.ts","webpack:///./src/enums/game-type.ts","webpack:///./src/enums/mission-card.ts","webpack:///./src/enums/mission-outcome.ts","webpack:///./src/enums/role.enum.ts","webpack:///./src/enums/stage.enum.ts","webpack:///./src/enums/team.enum.ts","webpack:///./src/enums/vote.enum.ts","webpack:///./src/environments/environment.ts","webpack:///./src/functions.ts","webpack:///./src/game.variables.ts","webpack:///./src/main.ts","webpack:///./src/models/game.ts","webpack:///./src/models/mission.ts","webpack:///./src/models/player.ts","webpack:///./src/services/base.service.ts","webpack:///./src/services/game.service.ts","webpack:///./src/services/login.service.ts","webpack:///./src/services/mission.service.ts","webpack:///./src/services/nav.service.ts","webpack:///./src/services/role.service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<app-session-info-bar [session]=\\\"session\\\" [player]=\\\"player\\\"></app-session-info-bar>\\r\\n<div class=\\\"container\\\">\\r\\n\\r\\n  <div *ngIf=\\\"canSeeGameBoard\\\" class=\\\"d-flex justify-content-center\\\">\\r\\n    <app-game-board></app-game-board>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"image-container d-flex justify-content-center\\\">\\r\\n    <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\r\\n  </div>\\r\\n  \\r\\n  <router-outlet></router-outlet>\\r\\n\\r\\n  \\r\\n  <div class=\\\"d-flex justify-content-center\\\">\\r\\n    <app-lobby-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.NotBegun)\\\"\\r\\n      (joinedServer)=\\\"joinedServer($event)\\\"></app-lobby-page>\\r\\n    <app-role-reveal-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.RoleReveal)\\\"\\r\\n      [playerName]=\\\"session.name\\\"\\r\\n      (playersAssigned)=\\\"playersAssigned($event)\\\"></app-role-reveal-page>\\r\\n    <app-team-pick-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.TeamPick)\\\"\\r\\n      [playerName]=\\\"session.name\\\"\\r\\n      [players]=\\\"players\\\"\\r\\n      ></app-team-pick-page>\\r\\n    <app-vote-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.Vote)\\\"\\r\\n      [playerName]=\\\"session.name\\\"\\r\\n      [players]=\\\"players\\\"\\r\\n      ></app-vote-page>\\r\\n    <app-mission-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.Mission)\\\"\\r\\n      [playerName]=\\\"session.name\\\"\\r\\n      [players]=\\\"players\\\"\\r\\n      ></app-mission-page>\\r\\n    <app-game-over-page\\r\\n      *ngIf=\\\"stageIsVisible(Stage.GameOver)\\\"\\r\\n      [playerName]=\\\"session.name\\\"\\r\\n      [players]=\\\"players\\\"\\r\\n      ></app-game-over-page>\\r\\n  </div>\\r\\n\\r\\n  <app-dev \\r\\n    (joinedServer)=\\\"joinedServer($event)\\\"\\r\\n    (playersAssigned)=\\\"playersAssigned($event)\\\"></app-dev>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Stage } from 'src/enums/stage.enum';\r\nimport { NavService } from 'src/services/nav.service';\r\nimport { Session } from 'src/models/session';\r\nimport { Player } from 'src/models/player';\r\nimport { teamPipe } from 'src/enums/team.enum';\r\nimport { rolePipe } from 'src/enums/role.enum';\r\nimport { bind } from 'src/functions';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor(private _navService: NavService){}\r\n\r\n  title = 'resistance-app';\r\n  Stage = Stage;\r\n  stage = Stage.NotBegun;\r\n  session: Session;\r\n  player: Player;\r\n  players: Player[];\r\n  teamPipe = teamPipe;\r\n  rolePipe = rolePipe;\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  stageIsVisible(stage: Stage): boolean {\r\n    return this.stage === stage;\r\n  }\r\n\r\n  goToStage(stage: Stage) {\r\n    this._navService.goToStage(stage);\r\n  }\r\n\r\n  joinedServer(session: Session){\r\n    this._navService.connectToRoom(session.roomCode);\r\n\r\n    this._navService.currentStage.subscribe(bind(this,'stage'));\r\n    this.session = session;\r\n  }\r\n  \r\n  playersAssigned(players: Player[]): void{\r\n    this.players = players;\r\n    this.player = !!players\r\n      ? players.filter((player) => player.name === this.session.name)[0]\r\n      : null;\r\n  }\r\n\r\n  get canSeeGameBoard(): boolean {\r\n    const unallowedStages = [Stage.NotBegun,Stage.RoleReveal];\r\n\r\n    return !unallowedStages.some((unallowedStage) => unallowedStage === this.stage);\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\nimport { LobbyPageComponent } from './lobby-page/lobby-page.component';\r\nimport { RoleRevealPageComponent } from './role-reveal-page/role-reveal-page.component';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\r\nimport { MatFormFieldModule, MatDialogModule, MatInputModule, MatCheckboxModule } from '@angular/material';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { DevComponent } from './dev/dev.component';\r\nimport { TeamPickPageComponent } from './team-pick-page/team-pick-page.component';\r\nimport { VotePageComponent } from './vote-page/vote-page.component';\r\nimport { MissionPageComponent } from './mission-page/mission-page.component';\r\nimport { GameBoardComponent } from './game-board/game-board.component';\r\nimport { GameOverPageComponent } from './game-over-page/game-over-page.component';\r\nimport { SessionInfoBarComponent } from './session-info-bar/session-info-bar.component';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LobbyPageComponent,\r\n    RoleRevealPageComponent,\r\n    DevComponent,\r\n    TeamPickPageComponent,\r\n    VotePageComponent,\r\n    MissionPageComponent,\r\n    GameBoardComponent,\r\n    GameOverPageComponent,\r\n    SessionInfoBarComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatFormFieldModule,\r\n    MatDialogModule,\r\n    MatCheckboxModule,\r\n    BrowserAnimationsModule,\r\n    MatInputModule,\r\n    FontAwesomeModule\r\n  ],\r\n  providers: [AngularFirestore],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \"<div *ngIf=\\\"devAreaVisible\\\" class=\\\"dev-area row\\\">\\n  <h4 class=\\\"text-danger\\\">Dev functions</h4>\\n  <form class=\\\"col-12 my-1\\\">\\n    <span>Join room</span>\\n    <input type=\\\"text\\\" placeholder=\\\"Name\\\" [(ngModel)]=\\\"hijackName\\\" name=\\\"name\\\">\\n    <input type=\\\"text\\\" placeholder=\\\"RoomCode\\\" [(ngModel)]=\\\"hijackRoomCode\\\" name=\\\"roomCode\\\">\\n    <button (click)=\\\"hijackClick()\\\">Go!</button>\\n  </form>\\n  <form class=\\\"col-12 my-1\\\">\\n    <span>Create new room</span>\\n    <input type=\\\"text\\\" placeholder=\\\"RoomCode\\\" [(ngModel)]=\\\"createRoomCode\\\" name=\\\"roomCode\\\">\\n    <input type=\\\"number\\\" placeholder=\\\"Number of Players\\\" [(ngModel)]=\\\"createNoOfPlayers\\\" name=\\\"noOfPlayers\\\">\\n    <button (click)=\\\"createClick()\\\">Go!</button>\\n  </form>\\n  <form class=\\\"col-12 my-1\\\">\\n    <span>Reset room</span>\\n    <input type=\\\"text\\\" placeholder=\\\"RoomCode\\\" [(ngModel)]=\\\"resetRoomCode\\\" name=\\\"roomCode\\\">\\n    <button (click)=\\\"resetClick()\\\">Go!</button>\\n  </form>\\n  <form class=\\\"col-12 my-1\\\">\\n      <span>Upvote/downvote room</span>\\n      <input type=\\\"text\\\" placeholder=\\\"RoomCode\\\" [(ngModel)]=\\\"upvoteRoomCode\\\" name=\\\"roomCode\\\">\\n      <button (click)=\\\"upOrDownvoteClick(true)\\\">Upvote!</button>\\n      <button (click)=\\\"upOrDownvoteClick(false)\\\">Downvote!</button>\\n    </form>\\n</div>\\n<div *ngIf=\\\"!devAreaVisible\\\" style=\\\"text-align: center; color: lightgray\\\">\\n  <hr>\\n  <fa-icon [icon]=faCoffee (click)=clickTheCoffee()></fa-icon>\\n</div>\"","module.exports = \".dev-area {\\n  margin: 32px;\\n  border: 2px solid red;\\n  border-radius: 2px; }\\n  .dev-area span {\\n    display: inline-block;\\n    width: 30%;\\n    text-align: right;\\n    padding: 2px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGV2L0M6XFxVc2Vyc1xcdXNlclxcUHJvamVjdHNcXHJlc2lzdGFuY2UtYXBwL3NyY1xcYXBwXFxkZXZcXGRldi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQVk7RUFDWixzQkFBcUI7RUFDckIsbUJBQWtCLEVBUXJCO0VBWEQ7SUFNUSxzQkFBcUI7SUFDckIsV0FBVTtJQUNWLGtCQUFpQjtJQUNqQixhQUFZLEVBQ2QiLCJmaWxlIjoic3JjL2FwcC9kZXYvZGV2LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmRldi1hcmVhe1xyXG4gICAgbWFyZ2luOiAzMnB4O1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG5cclxuICAgIHNwYW4ge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICB3aWR0aDogMzAlO1xyXG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgICAgIHBhZGRpbmc6IDJweDtcclxuICAgICB9XHJcbn0iXX0= */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { BaseService } from 'src/services/base.service';\nimport { LoginService } from 'src/services/login.service';\nimport { RoleService } from 'src/services/role.service';\nimport { NavService } from 'src/services/nav.service';\nimport { Session } from 'src/models/session';\nimport { newGame } from 'src/models/game';\nimport { newPlayer, Player } from 'src/models/player';\nimport { first } from 'rxjs/operators';\nimport { Vote } from 'src/enums/vote.enum';\nimport { faCoffee } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'app-dev',\n  templateUrl: './dev.component.html',\n  styleUrls: ['./dev.component.scss']\n})\nexport class DevComponent implements OnInit {\n\n  constructor(private base: BaseService,\n    private _navService: NavService,\n    private _loginService: LoginService,\n    private _roleService: RoleService) { }\n\n  @Output() joinedServer = new EventEmitter<Session>();\n  @Output() playersAssigned = new EventEmitter<Player[]>();\n\n  ngOnInit() {\n  }\n\n  // Hijack Room\n  hijackName: string;\n  hijackRoomCode: string;\n\n  faCoffee = faCoffee;\n  devAreaVisible: boolean = false;\n\n  hijackClick(): void{\n    const name = this.hijackName;\n    const roomCode = this.hijackRoomCode;\n    this.joinedServer.emit({name,roomCode});\n    this.base.getCollection<Player>('player').pipe(first()).subscribe((players) => {\n      this.playersAssigned.emit(players);\n    })\n    \n  }\n\n  // Click the coffee\n  coffeeClicks: number = 0;\n  clickTheCoffee(): void {\n    this.coffeeClicks++;\n    if (this.coffeeClicks > 2){\n      this.devAreaVisible = true;\n    }\n  }\n\n  // Create Room\n  createRoomCode: string;\n  createNoOfPlayers: number;\n\n  createClick(): void{\n    const roomCode = this.createRoomCode;\n    const noOfPlayers = this.createNoOfPlayers;\n\n    const playerNames: string[] = ['aaa','bbb','ccc','ddd','eee','fff','ggg','hhh','iii','jjj']\n    console.log(`Creating room ${roomCode} with ${noOfPlayers} players`)\n    this.base.addGame(roomCode,newGame())\n\n    for (let index = 0; index < noOfPlayers; index++) {\n      const name = playerNames[index];\n      this.base.addDoc('player',newPlayer(name), name, roomCode)\n    }\n  }\n\n  // Reset room\n  resetRoomCode: string;\n\n  resetClick(): void {\n    const roomCode = this.resetRoomCode;\n\n    this.base.addGame(roomCode,newGame());\n  }\n\n  // Vote entire team up\n  upvoteRoomCode: string;\n\n  upOrDownvoteClick(upOrDown: boolean): void {\n    const roomCode = this.upvoteRoomCode;\n    const vote = upOrDown ? Vote.upvoted : Vote.downvoted;\n\n    this.base.getCollectionCount('player')\n      .subscribe((count) => {\n        this.base.updateGameProperty('votes', new Array(count).fill(vote));\n      })\n  }\n}\n","module.exports = \"<div *ngIf=\\\"!isLoading\\\">\\n  <hr>\\n  <h6>Mission Tracker</h6>\\n  <div class=\\\"flex\\\">\\n    <span class=\\\"mission circle\\\" [ngClass]=\\\"[outcomeCss(outcome), twoFailCss(i), currentCss(i)]\\\" *ngFor=\\\"let outcome of missionOutcomes; let i = index;\\\">\\n        {{missionSizes[i].size}}\\n    </span>\\n  </div>\\n  <hr>\\n  <h6>Vote Tracker</h6>\\n  <div class=\\\"flex\\\">\\n      <span class=\\\"vote circle\\\" [ngClass]=\\\"{'downvoted': noOfDownvotedTeams >= votecount, 'current': noOfDownvotedTeams === votecount - 1}\\\" *ngFor=\\\"let votecount of voteCountArray\\\">\\n          {{votecount}}\\n      </span>\\n    </div>\\n    <hr>\\n</div>\\n\\n<div *ngIf=\\\"isLoading\\\">Game board loading...</div>\"","module.exports = \".circle {\\n  display: inline-block;\\n  border-radius: 50%;\\n  position: relative;\\n  text-align: center;\\n  line-height: 1.5em;\\n  color: white; }\\n  .circle.current::before {\\n    content: ' ';\\n    border-left: 5px solid transparent;\\n    border-right: 5px solid transparent;\\n    border-bottom: 5px solid #777;\\n    position: absolute;\\n    bottom: -5px; }\\n  .circle.current.mission::before {\\n    left: calc(50px / 2 - 5px); }\\n  .circle.current.vote::before {\\n    left: calc(30px / 2 - 5px); }\\n  .circle.mission {\\n    width: 50px;\\n    height: 50px;\\n    font-size: calc(0.6 * 50px); }\\n  .circle.mission.notstarted {\\n      background-color: #aaa; }\\n  .circle.mission.passed {\\n      background-color: #aaf; }\\n  .circle.mission.failed {\\n      background-color: #faa; }\\n  .circle.mission.twofail {\\n      text-decoration: underline; }\\n  .circle.vote {\\n    width: 30px;\\n    height: 30px;\\n    font-size: calc(0.6 * 30px);\\n    background-color: #aaa; }\\n  .circle.vote.downvoted {\\n      background-color: #faa; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2FtZS1ib2FyZC9DOlxcVXNlcnNcXHVzZXJcXFByb2plY3RzXFxyZXNpc3RhbmNlLWFwcC9zcmNcXGFwcFxcZ2FtZS1ib2FyZFxcZ2FtZS1ib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTQTtFQUNJLHNCQUFxQjtFQUNyQixtQkFBa0I7RUFDbEIsbUJBQWtCO0VBQ2xCLG1CQUFrQjtFQUNsQixtQkFBa0I7RUFDbEIsYUFBWSxFQTJEZjtFQWpFRDtJQVVZLGFBQVk7SUFDWixtQ0FBa0Q7SUFDbEQsb0NBQW1EO0lBQ25ELDhCQWhCZTtJQWlCZixtQkFBa0I7SUFDbEIsYUFuQlksRUFvQmI7RUFoQlg7SUFvQmdCLDJCQUFvRSxFQUN2RTtFQXJCYjtJQTBCZ0IsMkJBQWlFLEVBQ3BFO0VBM0JiO0lBaUNRLFlBdkNzQjtJQXdDdEIsYUF4Q3NCO0lBeUN0Qiw0QkFBa0QsRUFpQnJEO0VBcERMO01Bc0NZLHVCQS9DSyxFQWdEUjtFQXZDVDtNQTBDWSx1QkFsREMsRUFtREo7RUEzQ1Q7TUE4Q1ksdUJBckRDLEVBc0RKO0VBL0NUO01Ba0RZLDJCQUEwQixFQUM3QjtFQW5EVDtJQXdEUSxZQTdEbUI7SUE4RG5CLGFBOURtQjtJQStEbkIsNEJBQStDO0lBQy9DLHVCQXBFUyxFQXlFWjtFQWhFTDtNQThEWSx1QkFyRUMsRUFzRUoiLCJmaWxlIjoic3JjL2FwcC9nYW1lLWJvYXJkL2dhbWUtYm9hcmQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkbm90c3RhcnRlZDogI2FhYTtcclxuJHBhc3NlZDogI2FhZjtcclxuJGZhaWxlZDogI2ZhYTtcclxuJG1pc3Npb24tY2lyY2xlLWRpYW1ldGVyOiA1MHB4O1xyXG4kdm90ZS1jaXJjbGUtZGlhbWV0ZXI6IDMwcHg7XHJcbiRjdXJyZW50LWFycm93LXNpemU6IDVweDtcclxuJGN1cnJlbnQtYXJyb3ctY29sb3VyOiAjNzc3O1xyXG5cclxuXHJcbi5jaXJjbGUge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG5cclxuICAgICYuY3VycmVudCB7XHJcbiAgICAgICAgJjo6YmVmb3JlIHtcclxuICAgICAgICAgICAgY29udGVudDogJyAnO1xyXG4gICAgICAgICAgICBib3JkZXItbGVmdDogJGN1cnJlbnQtYXJyb3ctc2l6ZSBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAkY3VycmVudC1hcnJvdy1zaXplIHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAkY3VycmVudC1hcnJvdy1zaXplIHNvbGlkICRjdXJyZW50LWFycm93LWNvbG91cjtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICBib3R0b206IC0kY3VycmVudC1hcnJvdy1zaXplO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAmLm1pc3Npb24ge1xyXG4gICAgICAgICAgICAmOjpiZWZvcmV7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjYWxjKCN7JG1pc3Npb24tY2lyY2xlLWRpYW1ldGVyfSAvIDIgLSAjeyRjdXJyZW50LWFycm93LXNpemV9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICYudm90ZSB7XHJcbiAgICAgICAgICAgICY6OmJlZm9yZXtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGNhbGMoI3skdm90ZS1jaXJjbGUtZGlhbWV0ZXJ9IC8gMiAtICN7JGN1cnJlbnQtYXJyb3ctc2l6ZX0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgICYubWlzc2lvbntcclxuICAgICAgICB3aWR0aDogJG1pc3Npb24tY2lyY2xlLWRpYW1ldGVyO1xyXG4gICAgICAgIGhlaWdodDogJG1pc3Npb24tY2lyY2xlLWRpYW1ldGVyO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogY2FsYygwLjYgKiAjeyRtaXNzaW9uLWNpcmNsZS1kaWFtZXRlcn0pO1xyXG5cclxuICAgICAgICAmLm5vdHN0YXJ0ZWR7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRub3RzdGFydGVkO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICYucGFzc2Vke1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkcGFzc2VkO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICYuZmFpbGVke1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZmFpbGVkO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICYudHdvZmFpbCB7XHJcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgICYudm90ZSB7XHJcbiAgICAgICAgd2lkdGg6ICR2b3RlLWNpcmNsZS1kaWFtZXRlcjtcclxuICAgICAgICBoZWlnaHQ6ICR2b3RlLWNpcmNsZS1kaWFtZXRlcjtcclxuICAgICAgICBmb250LXNpemU6IGNhbGMoMC42ICogI3skdm90ZS1jaXJjbGUtZGlhbWV0ZXJ9KTtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkbm90c3RhcnRlZDtcclxuXHJcbiAgICAgICAgJi5kb3dudm90ZWR7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRmYWlsZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { GameService } from 'src/services/game.service';\nimport { MissionOutcome } from 'src/enums/mission-outcome';\nimport { bind } from 'src/functions';\nimport { Subject } from 'rxjs';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { MissionSize } from 'src/models/mission-size';\nimport { gameVariables } from 'src/game.variables';\n\n@Component({\n  selector: 'app-game-board',\n  templateUrl: './game-board.component.html',\n  styleUrls: ['./game-board.component.scss']\n})\nexport class GameBoardComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  missionOutcomes: MissionOutcome[];\n  missionSizes: MissionSize[];\n  noOfDownvotedTeams: number;\n  currentMission: number;\n  private destroy$ = new Subject();\n\n  ngOnInit() {\n    this._gameService.missionOutcomes\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(bind(this,'missionOutcomes'));\n\n    this._gameService.noOfDownvotedTeams\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(bind(this,'noOfDownvotedTeams'));\n\n    this._gameService.currentMission\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(bind(this,'currentMission'));\n\n    this._gameService.playerCount\n      .pipe(first())\n      .subscribe((count) => this.missionSizes = gameVariables.missionSizes[count-5]);\n  }\n\n  get voteCountArray(): number[] {\n    var maxNoOfVotes = gameVariables.maxNoOfVotesPerMission;\n    // Creates an array of [1,2,...,maxNoOfVotes]\n    return new Array(maxNoOfVotes).fill(null).map((_,index) => index + 1);\n  }\n  \n  outcomeCss(missionOutcome: MissionOutcome): string {\n    switch (missionOutcome) {\n      case MissionOutcome.notStarted:\n      return 'notstarted';\n      case MissionOutcome.pass:\n      return 'passed';\n      case MissionOutcome.fail:\n      return 'failed';\n      default:\n      return '';\n    }\n  }\n\n  twoFailCss(missionIndex: number): string {\n    const missionSize = this.missionSizes[missionIndex]\n    return missionSize.twoFail ? 'twofail' : '';\n  }\n\n  currentCss(missionIndex: number): string {\n    return this.currentMission === missionIndex ? 'current' : '';\n  }\n  \n  get isLoading(): boolean {\n    return [this.missionOutcomes,\n      this.missionSizes,\n      this.noOfDownvotedTeams,\n      this.currentMission].some((prop) => prop === undefined);\n  }\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"!isLoading\\\">\\n  <p>The game is over.</p>\\n  <p>Winning team: {{winningTeam}}</p>\\n  <p>How: {{gameOutcomeMessage}}</p>\\n</div>\\n\\n<div *ngIf=\\\"isLoading\\\">\\n    Loading...\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dhbWUtb3Zlci1wYWdlL2dhbWUtb3Zlci1wYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Player } from '@angular/core/src/render3/interfaces/player';\nimport { GameService } from 'src/services/game.service';\nimport { Game } from 'src/models/game';\nimport { bind } from 'src/functions';\nimport { GameOutcome, GameOutcomeMessagePipe, GameOutcomeWinnerPipe } from 'src/enums/game-outcome.enum';\nimport { MissionOutcome } from 'src/enums/mission-outcome';\nimport { gameVariables } from 'src/game.variables';\nimport { teamPipe } from 'src/enums/team.enum';\n\n@Component({\n  selector: 'app-game-over-page',\n  templateUrl: './game-over-page.component.html',\n  styleUrls: ['./game-over-page.component.scss']\n})\nexport class GameOverPageComponent implements OnInit {\n\n  constructor(private _gameService: GameService) { }\n\n  game: Game;\n\n  ngOnInit() {\n    this._gameService.getGame.subscribe(bind(this,'game'));\n  }\n\n  @Input() playerName: string;\n  @Input() players: Player[];\n\n  get gameOutcome(): GameOutcome {\n    if (!this.game){\n      return;\n    }\n    var passingMissions = this.game.missionOutcomes.filter((outcome) => outcome === MissionOutcome.pass).length;\n    var failingMissions = this.game.missionOutcomes.filter((outcome) => outcome === MissionOutcome.fail).length;\n    var downvotedMissions = this.game.noOfDownvotedTeams;\n\n    if (passingMissions >= gameVariables.noOfMissionsToWin) {\n      return GameOutcome.sufficientSuccesses;\n    }\n    if (failingMissions >= gameVariables.noOfMissionsToWin) {\n      return GameOutcome.sufficientFailures;\n    }\n    if (downvotedMissions >= gameVariables.maxNoOfVotesPerMission) {\n      return GameOutcome.tooManyDownvotes;\n    }\n\n    console.error('An error has occurred');\n    return;\n  }\n\n  get gameOutcomeMessage(): string {\n    return GameOutcomeMessagePipe(this.gameOutcome);\n  }\n\n  get winningTeam(): string {\n    var winningTeam = GameOutcomeWinnerPipe(this.gameOutcome);\n    return teamPipe(winningTeam);\n  }\n\n  get isLoading(): boolean {\n    return [this.game].some((prop) => prop === undefined);\n  }\n\n}\n","module.exports = \"<div class=\\\"lobby-form\\\" *ngIf=\\\"!isConnectedToARoom\\\">\\r\\n  <form class=\\\"d-block\\\">\\r\\n    <mat-form-field class=\\\"d-block\\\">\\r\\n      <input matInput [formControl]=\\\"name\\\" placeholder=\\\"Name\\\">\\r\\n      <mat-error *ngIf=\\\"name.invalid\\\">Please pick a longer name</mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field *ngIf=\\\"!isNew\\\" class=\\\"d-block\\\">\\r\\n      <input matInput [formControl]=\\\"roomCode\\\" placeholder=\\\"Room code\\\" style=\\\"text-transform: uppercase;\\\" maxlength=\\\"4\\\">\\r\\n      <mat-error *ngIf=\\\"roomCode.invalid\\\">Room codes have 4 characters</mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-checkbox class=\\\"d-block\\\" [(ngModel)]=\\\"isNew\\\" name=\\\"isNew\\\">New Lobby?</mat-checkbox>\\r\\n    <button class=\\\"d-block\\\" *ngIf=\\\"!isConnectedToARoom\\\" [disabled]=\\\"canCreateOrJoinLobby\\\" (click)=\\\"createOrJoinLobby()\\\">\\r\\n      {{isNew ? 'Create' : 'Join'}} lobby\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n    \\r\\n<div class=\\\"start-game-buttons\\\" *ngIf=\\\"isConnectedToARoom\\\">\\r\\n  <button *ngIf=\\\"countDownTimer == null\\\" [disabled]=\\\"!canStartGame\\\" (click)=\\\"startGame()\\\">Start game</button>\\r\\n  <button *ngIf=\\\"countDownTimer != null\\\" (click)=\\\"cancelGame()\\\">Cancel</button>\\r\\n  <p>{{countDownTimer}}</p>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"current-lobby\\\" *ngIf=\\\"isConnectedToARoom\\\">\\r\\n  <h4>Current lobby</h4>\\r\\n  <ul *ngFor=\\\"let item of lobbyPeople\\\">\\r\\n    <li>{{item}}</li>\\r\\n  </ul>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvYmJ5LXBhZ2UvbG9iYnktcGFnZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, EventEmitter, Output } from '@angular/core';\r\nimport { LoginService } from 'src/services/login.service';\r\nimport { Session } from 'src/models/session';\r\nimport { first, takeUntil, map } from 'rxjs/operators';\r\nimport { NavService } from 'src/services/nav.service';\r\nimport { Subject, interval } from 'rxjs';\r\nimport { Stage } from 'src/enums/stage.enum';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { gameVariables } from 'src/game.variables'\r\n\r\n@Component({\r\n  selector: 'app-lobby-page',\r\n  templateUrl: './lobby-page.component.html',\r\n  styleUrls: ['./lobby-page.component.scss']\r\n})\r\nexport class LobbyPageComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _loginService: LoginService,\r\n    private _navService: NavService) { }\r\n\r\n  canStartGame = false;\r\n  lobbyPeople: string[] = [];\r\n  isConnectedToARoom: boolean = false;\r\n  countDownTimer: number = null;\r\n  isNew = false;\r\n  name = new FormControl('', [Validators.required, Validators.minLength(3)]);\r\n  roomCode = new FormControl('', [Validators.required, Validators.minLength(4), Validators.maxLength(4)]);\r\n  private ticker = interval(1000);\r\n  private destroy$ = new Subject();\r\n  private countdownActive$ = new Subject();\r\n\r\n  @Output() joinedServer = new EventEmitter<Session>();\r\n  // make it so canstart game is responsive to hasenoughplayers and isalive\r\n  ngOnInit() {\r\n    this._navService.isConnectedToARoom$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((isConnected) => {\r\n        this.isConnectedToARoom = isConnected;\r\n        if (isConnected) {\r\n          this._navService.currentPlayers\r\n            .pipe(\r\n              takeUntil(this.destroy$),\r\n              map((players) => players.map((player) => player.name)))\r\n            .subscribe((players) => {\r\n              this.lobbyPeople = players;\r\n              this.canStartGame = players.length >= gameVariables.minPlayers;\r\n          })\r\n\r\n          this._navService.startTime\r\n            .pipe(\r\n              takeUntil(this.destroy$)\r\n            )\r\n            .subscribe((startTime) => {\r\n              if(!!startTime){\r\n                //do the countdown\r\n                this.ticker\r\n                  .pipe(takeUntil(this.countdownActive$))\r\n                  .subscribe(() => {\r\n                    const currentTime = new Date().getTime();\r\n                    const secondsRemaining =  Math.ceil((startTime - currentTime)/1000)\r\n                    if(secondsRemaining > 0) {\r\n                      this.countDownTimer = secondsRemaining;\r\n                    } else {\r\n                      this.countDownTimer = 0;\r\n                      this._navService.goToStage(Stage.RoleReveal);\r\n                    }\r\n                  });\r\n              } else {\r\n                // cancel the countdown\r\n                this.countdownActive$.next();\r\n                this.countDownTimer = null;\r\n              }\r\n            })\r\n        }\r\n      });\r\n  }\r\n\r\n  get canCreateOrJoinLobby(): boolean {\r\n    return this.name.invalid || (this.roomCode.invalid && !this.isNew);\r\n  }\r\n\r\n  createOrJoinLobby(): void {\r\n    if (this.canCreateOrJoinLobby){\r\n      this.name.markAsTouched();\r\n      this.roomCode.markAsTouched();\r\n      return;\r\n    }\r\n\r\n    const name = this.name.value;\r\n    const roomCode = (this.roomCode.value as string).toUpperCase();\r\n\r\n    this.isNew\r\n      ? this.createAndJoinNewLobby(name)\r\n      : this.joinLobby({name,roomCode});\r\n  }\r\n\r\n  createAndJoinNewLobby(name: string): void {\r\n    this._loginService.createLobby()\r\n      .pipe(first<string>())\r\n      .subscribe({\r\n        next: (roomCode) => {\r\n          this.joinLobby({name, roomCode});\r\n        },\r\n        error: (err) => {alert(err)}\r\n      });\r\n  }\r\n\r\n  joinLobby(result: Session): void {\r\n    this._loginService.joinLobby(result).subscribe({\r\n      error: (err)=>{alert(err)},\r\n      complete: ()=>{this.joinedServer.emit(result);}\r\n    });\r\n  }\r\n\r\n  startGame(): void {\r\n    this._navService.startGame();\r\n  }\r\n\r\n  cancelGame(): void {\r\n    this._navService.cancel();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    this.countdownActive$.next();\r\n    this.countdownActive$.complete();\r\n  }\r\n}\r\n","module.exports = \"<div *ngIf=\\\"!isLoading\\\">\\n  <p>The current team is...</p>\\n  <ul *ngFor=\\\"let teamMember of currentTeam\\\">\\n    <li>{{teamMember.name}}</li>\\n  </ul>\\n  <div *ngIf=\\\"!revealMode\\\">\\n    <div *ngIf=\\\"!allCardsPlayed\\\">\\n      <div *ngIf=\\\"youAreOnTheTeam\\\">\\n        <p>You are on the team</p>\\n        <div *ngIf=\\\"!alreadyPlayedCard\\\">\\n          <p>Pick a card...</p>\\n          <div *ngFor=\\\"let card of playableCards\\\">\\n            <div>\\n              <button (click)=\\\"selectCard(card.enumValue)\\\">{{card.name}}</button>\\n            </div>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"alreadyPlayedCard\\\">\\n          <p>You have played your card.</p>\\n          <p>Now to wait for the other person...</p>\\n        </div>\\n      </div>\\n\\n    <div *ngIf=\\\"!youAreOnTheTeam\\\">\\n      <p>You are not on the team</p>\\n      <p>So you'll have to wait...</p>\\n    </div>\\n  </div>\\n  <div *ngIf=\\\"allCardsPlayed\\\">\\n    <p>All cards have been played</p>\\n    <button (click)=\\\"revealCards()\\\">Reveal cards?</button>\\n  </div>\\n  </div>\\n  <div *ngIf=\\\"revealMode\\\">\\n    <p>Cards: {{revealedCardsAsString}}</p>\\n    <p>The mission {{missionPassed ? 'passed' : 'failed'}}</p>\\n    <button (click)=\\\"nextMission()\\\">Next Mission</button>\\n  </div>\\n</div>\\n<div *ngIf=\\\"isLoading\\\">\\n  <p>Loading...</p>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21pc3Npb24tcGFnZS9taXNzaW9uLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { MissionService } from 'src/services/mission.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil, first, map } from 'rxjs/operators';\nimport { bind} from 'src/functions';\nimport { Player } from 'src/models/player';\nimport { IMissionCard, MissionCard, missionCards } from 'src/enums/mission-card';\nimport { MissionSize } from 'src/models/mission-size';\n\n@Component({\n  selector: 'app-mission-page',\n  templateUrl: './mission-page.component.html',\n  styleUrls: ['./mission-page.component.scss']\n})\nexport class MissionPageComponent implements OnInit {\n\n  constructor(private _missionService: MissionService) { }\n\n  @Input() playerName: string;\n  @Input() players: Player[];\n\n  currentTeam: Player[];\n  playableCards: IMissionCard[];\n  playedCards: MissionCard[];\n  missionSize: MissionSize;\n\n  revealMode: boolean = false;\n\n  private destroy$ = new Subject();\n  private forceLoadScreen = false;\n\n  ngOnInit() {\n    this._missionService.getTeamPick()\n      .pipe(\n        first(),\n        map((bools) => this.players.filter((_,index) => bools[index])))\n      .subscribe(bind(this,'currentTeam'));\n\n    this._missionService.getPlayableCards\n        .pipe(first())\n        .subscribe(bind(this,'playableCards'));\n\n    this._missionService.getPlayedCards\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(bind(this,'playedCards'));\n\n    this._missionService.getTeamSize()\n        .pipe(first())\n        .subscribe(bind(this,'missionSize'))\n  }\n\n  selectCard(missionCard: MissionCard): void{\n    this.playedCards[this.playerIndex] = missionCard;\n    this._missionService.updatePlayedCards(this.playedCards);\n  }\n\n  revealCards(): void{\n    this.revealMode = true;\n  }\n\n  nextMission(): void {\n    this.forceLoadScreen = true;\n    this._missionService.nextMission(this.missionPassed);\n  }\n\n  get revealedCardsAsString(): string {\n    return this.cardstoReveal.map((card) => missionCards[card].name).join(', ');\n  }\n\n  get cardstoReveal(): MissionCard[] {\n    return this.playedCards.filter((card) => card !== MissionCard.none).sort();\n  }\n\n  get missionPassed(): boolean {\n    const requiredFails = this.missionSize.twoFail ? 2 : 1;\n\n    return this.cardstoReveal.filter((card) => card === MissionCard.fail).length < requiredFails;\n  }\n\n  get allCardsPlayed(): boolean {\n    return this.playedCards.filter((card) => card !== MissionCard.none).length === this.missionSize.size;\n  }\n\n  get playerIndex(): number {\n    return this.players.map((player) => player.name).indexOf(this.playerName);\n  }\n\n  get alreadyPlayedCard(): boolean {\n    return this.playedCards[this.playerIndex] != MissionCard.none;\n  }\n\n  get isLoading(): boolean {\n    return [\n      this.currentTeam,\n      this.playableCards,\n      this.playedCards,\n      this.missionSize\n    ].some((prop)=>prop === undefined) || this.forceLoadScreen;\n  }\n\n  get youAreOnTheTeam(): boolean {\n    return this.currentTeam.some((player) => player.name === this.playerName)\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n}\n","module.exports = \"<button *ngIf=\\\"canAssignRoles\\\" (click)=\\\"assignRoles()\\\">Assign Roles</button>\\n\\n<div *ngIf=\\\"!canAssignRoles && !rolesAssigned\\\">Loading...</div>\\n<div *ngIf=\\\"player\\\">\\n  <p>You are a {{teamPipe(player.team)}} {{rolePipe(player.role)}}</p>\\n  <div class=\\\"fellow spies\\\" *ngIf=\\\"player.team == teamEnum.spy\\\">\\n    Your fellow spies are:\\n    <ul *ngFor=\\\"let player of fellowSpies\\\">\\n      <li>{{player.name}}</li>\\n    </ul>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"rolesAssigned\\\">\\n  <button (click)=\\\"startGame()\\\">Start the game</button>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JvbGUtcmV2ZWFsLXBhZ2Uvcm9sZS1yZXZlYWwtcGFnZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { RoleService } from 'src/services/role.service';\r\nimport { Subject } from 'rxjs';\r\nimport { Player } from 'src/models/player';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Role, rolePipe } from 'src/enums/role.enum';\r\nimport { Team, teamPipe } from 'src/enums/team.enum';\r\nimport { NavService } from 'src/services/nav.service';\r\nimport { Stage } from 'src/enums/stage.enum';\r\nimport { MissionService } from 'src/services/mission.service';\r\n\r\n@Component({\r\n  selector: 'app-role-reveal-page',\r\n  templateUrl: './role-reveal-page.component.html',\r\n  styleUrls: ['./role-reveal-page.component.scss']\r\n})\r\nexport class RoleRevealPageComponent implements OnInit {\r\n\r\n  constructor(\r\n    private _roleService: RoleService,\r\n    private _navService: NavService,\r\n    private _missionService: MissionService) { }\r\n\r\n  @Input() playerName: string;\r\n  @Output() playersAssigned = new EventEmitter<Player[]>();\r\n\r\n  teamEnum = Team;\r\n\r\n  canAssignRoles = false;\r\n  rolesAssigned = false;\r\n  player: Player;\r\n  destroy$ = new Subject();\r\n  private currentPlayers: Player[];\r\n  teamPipe = teamPipe;\r\n  rolePipe = rolePipe;\r\n\r\n  ngOnInit() {\r\n    this._roleService.currentPlayers()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((players) => {\r\n        if (players.every((player) => this.playerIsAssigned(player))){\r\n          this.currentPlayers = players;\r\n          this.rolesAssigned = true;\r\n          this.canAssignRoles = false;\r\n          this.player = players.filter((player) => player.name === this.playerName)[0];\r\n          this.playersAssigned.emit(players);\r\n        } else {\r\n          this.currentPlayers = [];\r\n          this.rolesAssigned = false;\r\n          this.canAssignRoles = true;\r\n        }\r\n      })\r\n  }\r\n\r\n  assignRoles(): void {\r\n    if (!this.canAssignRoles){return;}\r\n    this._roleService.assignRoles();\r\n  }\r\n\r\n  startGame(): void {\r\n    if (!this.playerIsAssigned(this.player)) {return;}\r\n    this._missionService.newMission(0,0);\r\n    this._navService.goToStage(Stage.TeamPick);\r\n  }\r\n  \r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  get fellowSpies(): Player[] {\r\n    if (this.player.team !== Team.spy){\r\n      return [];\r\n    }\r\n    return this.currentPlayers\r\n      .filter((player) => player.team === Team.spy && player.name !== this.player.name);\r\n  }\r\n  \r\n  private playerIsAssigned(player: Player): boolean {\r\n    return player.role != Role.unassigned && player.team != Team.unassigned;\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"nav-spacer\\\"></div>\\n<div class=\\\"navbar fixed-top navbar-dark bg-dark\\\">\\n  <ng-container *ngIf=\\\"!session && !player\\\" style=\\\"width:100%\\\">\\n    <span></span>\\n    <span>Tom's great resistance app</span>\\n    <span></span>\\n  </ng-container>\\n  <ng-container *ngIf=\\\"!!session\\\">\\n    <span>Name: {{session.name}}</span>\\n    <span>/</span>\\n    <span>Room Code: {{session.roomCode}}</span>\\n  </ng-container>\\n  <ng-container *ngIf=\\\"!!player\\\">\\n      <span>/</span>\\n      <fa-icon [icon]=\\\"faUser\\\" (click)=clickUser()></fa-icon>\\n  </ng-container>\\n</div>\"","module.exports = \".nav-spacer {\\n  padding-top: 40px; }\\n\\n.navbar {\\n  color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2Vzc2lvbi1pbmZvLWJhci9DOlxcVXNlcnNcXHVzZXJcXFByb2plY3RzXFxyZXNpc3RhbmNlLWFwcC9zcmNcXGFwcFxcc2Vzc2lvbi1pbmZvLWJhclxcc2Vzc2lvbi1pbmZvLWJhci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFpQixFQUNwQjs7QUFFRDtFQUNJLGFBQVksRUFDZiIsImZpbGUiOiJzcmMvYXBwL3Nlc3Npb24taW5mby1iYXIvc2Vzc2lvbi1pbmZvLWJhci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtc3BhY2VyIHtcclxuICAgIHBhZGRpbmctdG9wOiA0MHB4O1xyXG59XHJcblxyXG4ubmF2YmFyIHtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { Session } from 'src/models/session';\nimport { Player } from 'src/models/player';\nimport { teamPipe } from 'src/enums/team.enum';\nimport { rolePipe } from 'src/enums/role.enum';\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'app-session-info-bar',\n  templateUrl: './session-info-bar.component.html',\n  styleUrls: ['./session-info-bar.component.scss']\n})\nexport class SessionInfoBarComponent implements OnInit {\n\n  constructor() { }\n\n  @Input() session: Session;\n  @Input() player: Player;\n\n  faUser = faUser;\n\n\n  ngOnInit() {\n  }\n\n  clickUser(): void {\n    alert(`You are a ${teamPipe(this.player.team)}: ${rolePipe(this.player.role)}`)\n  }\n\n}\n","module.exports = \"<ng-container *ngIf=\\\"isLoading\\\">\\n  <p>Loading...</p>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"!isLoading\\\">\\n  <p class=\\\"whos-turn\\\" *ngIf=\\\"!!currentLeader\\\">It is <i>{{whoseTurn}}</i> turn to pick a team</p>\\n\\n  <div *ngIf=\\\"youAreTheLeader\\\">\\n    <h6> You are the leader.</h6>\\n    <h6>Pick a team.</h6>\\n    <p>{{numberOfSelectedPlayers}}/{{teamSize}} players selected</p>\\n    <ul *ngFor=\\\"let player of players; let i = index\\\">\\n      <li>\\n        <label for=\\\"select-{{i}}\\\">{{player.name}}</label>\\n        <input id=\\\"select-{{i}}\\\" type=\\\"checkbox\\\" [(ngModel)]=\\\"selectedPlayers[i]\\\" (ngModelChange)=\\\"teamChange();\\\">\\n      </li>\\n    </ul>\\n    \\n    <button [disabled]=\\\"!canSubmitTeam\\\" (click)=\\\"submitTeam()\\\">Thats my team</button>\\n  </div>\\n\\n  <div *ngIf=\\\"!youAreTheLeader\\\">\\n      <p>{{numberOfSelectedPlayers}}/{{teamSize}} players selected</p>\\n      <ul *ngFor=\\\"let player of players; let i = index\\\">\\n        <li>\\n          <label>{{player.name}}</label>\\n          <input disabled type=\\\"checkbox\\\" [ngModel]=\\\"selectedPlayers[i]\\\">\\n        </li>\\n      </ul>\\n  </div>\\n</ng-container>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RlYW0tcGljay1wYWdlL3RlYW0tcGljay1wYWdlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { MissionService } from 'src/services/mission.service';\nimport { Subject } from 'rxjs';\nimport { takeUntil, map } from 'rxjs/operators';\nimport { NavService } from 'src/services/nav.service';\nimport { Stage } from 'src/enums/stage.enum';\nimport { bind } from 'src/functions';\nimport { Player } from 'src/models/player';\n\n\n\n@Component({\n  selector: 'app-team-pick-page',\n  templateUrl: './team-pick-page.component.html',\n  styleUrls: ['./team-pick-page.component.scss']\n})\n\nexport class TeamPickPageComponent implements OnInit {\n\n  constructor(private _missionService: MissionService,\n    private _navService: NavService) { }\n  \n  @Input() players: Player[];\n\n  currentLeader: string;\n  selectedPlayers: boolean[];\n  teamSize: number;\n  \n  private destroy$ = new Subject();\n  \n  @Input() playerName: string;\n\n  ngOnInit() { \n    this._missionService.currentLeader()\n      .pipe(takeUntil(this.destroy$),map((leader) => this.players[leader].name))\n      .subscribe(bind(this,'currentLeader'));\n\n    this._missionService.getTeamSize()\n      .pipe(takeUntil(this.destroy$),map((teamSize) => teamSize.size))\n      .subscribe(bind(this,'teamSize'));\n\n    this._missionService.getTeamPick()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(bind(this,'selectedPlayers'));\n  }\n\n  teamChange() {\n    this._missionService.updateTeamPick(this.selectedPlayers);\n  }\n\n  submitTeam(): void {\n    if (!this.canSubmitTeam){\n      return;\n    }\n    this._navService.goToStage(Stage.Vote);\n  }\n\n  get isLoading(): boolean {\n    return [\n      this.currentLeader,\n      this.selectedPlayers,\n      this.teamSize\n    ].some((prop) => prop === undefined);\n  }\n\n  get canSubmitTeam(): boolean {\n    return this.numberOfSelectedPlayers === this.teamSize && this.youAreTheLeader;\n  }\n\n  get numberOfSelectedPlayers(): number{\n    return this.selectedPlayers.filter((selected) => selected).length;\n  }\n\n  get youAreTheLeader(): boolean {\n    return this.playerName === this.currentLeader;\n  }\n\n  get whoseTurn(): string {\n    if (this.youAreTheLeader){\n      return 'YOUR'\n    } else {\n      return `${this.currentLeader}'s`;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n}\n","module.exports = \"<div *ngIf=\\\"!isLoading\\\">\\n  <p>The team is ...</p>\\n  <ul *ngFor=\\\"let teamPlayer of teamPick\\\">\\n    <li>{{teamPlayer.name}}</li>\\n  </ul>\\n\\n  <div *ngIf=\\\"!wait\\\">\\n    <p>{{noOfVotesIn}} / {{players.length}} votes are in</p>\\n    <p *ngIf=\\\"yourVote !== null\\\">You have voted this team {{yourVote ? 'up' : 'down'}}</p>\\n    <button (click)=\\\"submitVote(true)\\\">Yes</button>\\n    <button (click)=\\\"submitVote(false)\\\">No</button>\\n    <div>\\n      <button *ngIf=\\\"allVotesIn\\\" (click)=\\\"seeVotes()\\\">See votes</button>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"wait\\\">\\n    <p>The team has {{hasItGoneAhead ? 'gone ahead' : 'not gone ahead'}}!</p>\\n    <p>The votes are ...</p>\\n    <ul *ngFor=\\\"let voter of players; let i = index;\\\">\\n      <li>{{voter.name}}: {{votePipe(currentVotes[i])}}</li>\\n    </ul>\\n    <button (click)=\\\"moveOn()\\\">Move on</button>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"isLoading\\\">\\n  <p>Loading...</p>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZvdGUtcGFnZS92b3RlLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { MissionService } from 'src/services/mission.service';\r\nimport { Player } from 'src/models/player';\r\nimport { bind } from 'src/functions';\r\nimport { first, map, takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { Vote } from 'src/enums/vote.enum';\r\n\r\n@Component({\r\n  selector: 'app-vote-page',\r\n  templateUrl: './vote-page.component.html',\r\n  styleUrls: ['./vote-page.component.scss']\r\n})\r\nexport class VotePageComponent implements OnInit {\r\n\r\n  constructor(private _missionService: MissionService) { }\r\n  \r\n  @Input() playerName: string;\r\n  @Input() players: Player[];\r\n\r\n  teamPick: Player[];\r\n  currentVotes: Vote[];\r\n  wait: boolean;\r\n\r\n  private destroy$ = new Subject();\r\n  \r\n  ngOnInit() {\r\n    // TODO Remove this eventually\r\n    console.log(this.players);\r\n    this._missionService.currentVotes()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(bind(this,'currentVotes'));\r\n    \r\n    this._missionService.getTeamPick()\r\n      .pipe(\r\n        first(),\r\n        map((bools) => this.players.filter((_,index) => bools[index])))\r\n      .subscribe(bind(this,'teamPick'));\r\n\r\n    this._missionService.wait.subscribe(bind(this,'wait'))\r\n  }\r\n\r\n  submitVote(vote: boolean){\r\n    if (this.playerIndex === -1){\r\n      console.error('You are not a player in this game');\r\n      return;\r\n    }\r\n    this._missionService.submitVote(vote,this.playerIndex);\r\n  }\r\n\r\n  seeVotes(): void{\r\n    if(!this.allVotesIn){\r\n      console.error('Not all votes are in yet');\r\n      return;\r\n    }\r\n    this._missionService.updateWait(true);\r\n  }\r\n\r\n  moveOn(): void{\r\n    if(!this.allVotesIn){\r\n      console.error('The votes aren\\'t all in')\r\n      return;\r\n    }\r\n\r\n    this._missionService.updateWait(false);\r\n    this._missionService.moveOn(this.hasItGoneAhead);\r\n  }\r\n\r\n  votePipe(vote: Vote): string {\r\n    switch (vote) {\r\n      case Vote.notVoted:\r\n        return 'not voted!';\r\n      case Vote.upvoted:\r\n        return 'voted it up!';\r\n      case Vote.downvoted:\r\n        return 'voted it down!';\r\n      default:\r\n        return 'error';\r\n    }\r\n  }\r\n\r\n  get hasItGoneAhead(): boolean {\r\n    const upvotes = this.currentVotes.filter((vote) => vote === Vote.upvoted).length;\r\n    const downvotes = this.players.length - upvotes;\r\n    return upvotes > downvotes;\r\n  }\r\n\r\n  get playerIndex(): number {\r\n    return this.players.map((player) => player.name).indexOf(this.playerName);\r\n  }\r\n\r\n  get noOfVotesIn(): number {\r\n    return this.currentVotes.filter((vote) => vote !== Vote.notVoted).length;\r\n  }\r\n\r\n  get allVotesIn(): boolean {\r\n    return this.noOfVotesIn === this.players.length;\r\n  }\r\n\r\n  get isLoading(): boolean {\r\n    return [this.currentVotes, this.teamPick, this.wait].some((prop) => prop === undefined);\r\n  }\r\n\r\n  get yourVote(): boolean {\r\n    switch (this.currentVotes[this.playerIndex]) {\r\n      case Vote.notVoted:\r\n        return null;\r\n      case Vote.upvoted:\r\n        return true;\r\n      case Vote.downvoted:\r\n        return false;\r\n      default:\r\n        console.error('An error with the votes has occurred')\r\n        return null;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n}\r\n","import { Team } from \"./team.enum\";\r\n\r\nexport enum GameOutcome {\r\n    sufficientSuccesses = 0,\r\n    sufficientFailures = 1,\r\n    tooManyDownvotes = 2\r\n}\r\n\r\nexport function GameOutcomeWinnerPipe(gameOutcome: GameOutcome): Team {\r\n    var resistanceWins = [GameOutcome.sufficientSuccesses];\r\n    var spyWins = [GameOutcome.sufficientFailures, GameOutcome.tooManyDownvotes];\r\n\r\n    if (resistanceWins.some((outcome) => outcome === gameOutcome)) {\r\n        return Team.resistance;\r\n    } else if (spyWins.some((outcome) => outcome === gameOutcome)) {\r\n        return Team.spy;\r\n    } else {\r\n        console.error('An error has occurred');\r\n        return Team.unassigned;\r\n    }\r\n}\r\n\r\nexport function GameOutcomeMessagePipe(gameOutcome: GameOutcome): string {\r\n    switch (gameOutcome) {\r\n        case GameOutcome.sufficientSuccesses:\r\n            return 'The missions have succeeded';\r\n        case GameOutcome.sufficientFailures:\r\n            return 'The missions have failed';    \r\n        case GameOutcome.tooManyDownvotes:\r\n            return 'Too many teams were downvoted';    \r\n        default:\r\n            console.error('An error has occurred')\r\n            return 'An error has occurred';\r\n    }\r\n}","export enum GameType {\r\n    regular = 0\r\n}","import { GameType } from \"./game-type\";\r\n\r\nexport enum MissionCard {\r\n    none = 0,\r\n    pass = 1,\r\n    fail = 2\r\n}\r\n\r\nexport interface IMissionCard {\r\n    enumValue: MissionCard\r\n    name: string\r\n}\r\n\r\nexport const missionCards: IMissionCard[] = [\r\n    {enumValue: MissionCard.none, name: 'N/A'},\r\n    {enumValue: MissionCard.pass, name: 'Pass'},\r\n    {enumValue: MissionCard.fail, name: 'Fail'}\r\n]\r\n\r\nexport function cardsInPlay(gameType: GameType): MissionCard[] {\r\n    switch (gameType) {\r\n        case GameType.regular:\r\n            return [MissionCard.pass,MissionCard.fail];    \r\n        default:\r\n            console.error('Game must have a game type')\r\n            return [];\r\n    }\r\n}","export enum MissionOutcome {\r\n    notStarted = 0,\r\n    pass = 1,\r\n    fail = 2\r\n}","export enum Role {\n    unassigned = 0,\n    regular = 1\n}\n\nexport function rolePipe(role: Role): string {\n    switch (role) {\n      case Role.unassigned:\n        return '(unassigned)';\n      case Role.regular:\n        return '(regular)';\n      default:\n        return '(ERROR)';\n    }\n  }","export enum Stage {\n    NotBegun = 0,\n    RoleReveal = 1,\n    TeamPick = 2,\n    Vote = 3,\n    Mission = 4,\n    Reveal = 5,\n    GameOver = 6\n}","export enum Team {\n    unassigned = 0,\n    resistance = 1,\n    spy = 2\n}\n\nexport function teamPipe(team: Team): string {\n    switch (team) {\n      case Team.unassigned:\n        return '(unassigned)';\n      case Team.resistance:\n        return 'Resistance';\n      case Team.spy:\n        return 'Spy';\n      default:\n        return '(ERROR)';\n    }\n  }","export enum Vote {\r\n    notVoted = 0,\r\n    upvoted = 1,\r\n    downvoted = 2\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: \"AIzaSyBNcTXRrtyqhWzz6WxD8DKyAxpwpTWn458\",\n    authDomain: \"resistance-app-e9f05.firebaseapp.com\",\n    databaseURL: \"https://resistance-app-e9f05.firebaseio.com\",\n    projectId: \"resistance-app-e9f05\",\n    storageBucket: \"resistance-app-e9f05.appspot.com\",\n    messagingSenderId: \"767828804753\"\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { map } from \"rxjs/operators\";\r\n\r\n\r\n/**\r\n * Creates a callback function for a subscription.\r\n * The given object's property will be updated with the value from the subscription.\r\n * @param obj  The object on which the property exists.\r\n * @param prop  The property to be updated.\r\n * @returns       A callback function to update the object's property with the callback's input.\r\n */\r\nexport function bind<T,K extends keyof T>(obj: T,prop:K): (value: T[K]) => void {\r\n    return (value: T[K]) => {obj[prop] = value};\r\n}\r\n\r\n\r\nexport function log<T>() {\r\n    return map((value: T) => {\r\n        console.log(value);\r\n        return value;\r\n    });\r\n}","import { MissionSize } from \"./models/mission-size\";\r\n\r\nexport const gameVariables = {\r\n    minPlayers: 5,\r\n    maxPlayers: 10,\r\n    noOfMissionsPerGame: 5,\r\n    noOfMissionsToWin: 3,\r\n    maxNoOfVotesPerMission: 5,\r\n    missionSizes: [\r\n        [{size: 2}, {size: 3}, {size: 2}, {size: 3}, {size: 3}],\r\n        [{size: 2}, {size: 3}, {size: 4}, {size: 3}, {size: 4}],\r\n        [{size: 2}, {size: 3}, {size: 3}, {size: 4, twoFail: true}, {size: 4}],\r\n        [{size: 3}, {size: 4}, {size: 4}, {size: 5, twoFail: true}, {size: 5}],\r\n        [{size: 3}, {size: 4}, {size: 4}, {size: 5, twoFail: true}, {size: 5}],\r\n        [{size: 3}, {size: 4}, {size: 4}, {size: 5, twoFail: true}, {size: 5}]\r\n      ] as MissionSize[][]\r\n};","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","import { Stage } from \"src/enums/stage.enum\";\nimport { GameType } from \"src/enums/game-type\";\nimport { MissionCard } from \"src/enums/mission-card\";\nimport { MissionOutcome } from \"src/enums/mission-outcome\";\nimport { gameVariables } from \"src/game.variables\";\nimport { Vote } from \"src/enums/vote.enum\";\n\nexport interface Game {\n    stage: Stage,\n    startTime: number,\n    team: boolean[],\n    votes: Vote[],\n    missionOutcomes: MissionOutcome[],\n    currentMission: number,\n    noOfDownvotedTeams: number,\n    leader: number,\n    gameType: GameType,\n    playedCards: MissionCard[],\n    wait: boolean\n  }\n\nexport type GameProperty = 'stage' | 'startTime' | 'team' | 'votes' | 'missionOutcomes' | 'currentMission' | 'noOfDownvotedTeams' | 'leader' | 'gameType' | 'playedCards' | 'wait';\n\nexport function newGame() {\n  const newGame: Game = {\n    stage: Stage.NotBegun,\n    startTime: null,\n    team: [],\n    votes: [],\n    missionOutcomes: Array(gameVariables.noOfMissionsPerGame).fill(MissionOutcome.notStarted),\n    currentMission: 0,\n    noOfDownvotedTeams: 0,\n    leader: null,\n    gameType: GameType.regular, // TODO: make this customisable\n    playedCards: [],\n    wait: false\n  }\n  return newGame;\n}","export interface Mission {\n    downvotedTeams: number[],\n    downvotedVotes: number[]\n    leader: number\n}\n\nexport type MissionProperty = 'downvotedTeams' | 'downvotedVotes' | 'leader';\n\nexport function newMission() {\n    const newMission: Mission = {\n        downvotedTeams: [],\n        downvotedVotes: [],\n        leader: null\n    }\n    return newMission;\n}\n\n","import { Team } from \"src/enums/team.enum\";\nimport { Role } from \"src/enums/role.enum\";\n\nexport interface Player {\n    name: string,\n    team: Team,\n    role: Role\n}\n\nexport type PlayerProperty = 'name' | 'team' | 'role';\n\nexport function newPlayer(name: string): Player {\n    const newPlayer: Player = {\n        name,\n        team: Team.unassigned,\n        role: Role.unassigned\n    };\n    return newPlayer;\n  }","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore, AngularFirestoreDocument } from '@angular/fire/firestore';\r\nimport { Observable } from 'rxjs';\r\nimport { map, first } from 'rxjs/operators';\r\nimport { Player, PlayerProperty } from 'src/models/player';\r\nimport { Game, GameProperty } from 'src/models/game';\r\nimport { Mission, MissionProperty } from 'src/models/mission';\r\n\r\nexport enum CollectionEnum {\r\n  player = 0,\r\n  mission = 1\r\n}\r\n\r\nexport function hello() {return 'hello';}\r\n\r\nexport type DocProperty = MissionProperty | PlayerProperty;\r\nexport type CollectionType = '' | 'player' | 'mission';\r\nexport type CollectionInterface = Player | Mission;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BaseService {\r\n\r\n  constructor(private db: AngularFirestore) {}\r\n  storedGame: AngularFirestoreDocument<Game>;\r\n\r\n  gameString: string = 'game';\r\n  playerString: string = 'player';\r\n  missionString: string = 'mission';\r\n\r\n  // Meta\r\n  game(roomCode?: string): AngularFirestoreDocument<Game> {\r\n    return !!roomCode\r\n      ? this.db.doc<Game>(`${this.gameString}/${roomCode}`)\r\n      : this.storedGame;\r\n  }\r\n\r\n  doesDocExist(collection: CollectionType, ref: string, roomCode?: string): Observable<boolean> {\r\n    const doc = collection === ''\r\n      ? this.game(roomCode)\r\n      : this.game(roomCode).collection(collection).doc(ref);\r\n\r\n    return doc.get()\r\n      .pipe(map((metaData) => metaData.exists));\r\n  }\r\n\r\n  connectToRoom(roomCode: string): void {\r\n    this.storedGame = this.db.collection(this.gameString).doc(roomCode);\r\n  }\r\n\r\n  idGenerator(): string {\r\n    return this.db.createId().slice(0, 4).toUpperCase();\r\n  }\r\n\r\n  // Game\r\n  getGame(roomCode?: string): Observable<Game> {\r\n    return this.game(roomCode).valueChanges();\r\n  }\r\n\r\n  getGameProperty<T>(property: GameProperty, roomCode?: string): Observable<T> {\r\n    return this.game(roomCode).valueChanges()\r\n      .pipe(map((o) => !!o ? o[property] as unknown as T : null));\r\n  }\r\n\r\n  updateGameProperty(property: GameProperty, value: any, roomCode?:string): void {\r\n    const data = {};\r\n    data[property] = value;\r\n    this.game(roomCode).update(data);\r\n  }\r\n\r\n  addGame(roomCode: string, game: Game): void {\r\n    this.game(roomCode).set(game);\r\n  }\r\n  \r\n  // General\r\n  collectionBuilder(collection: CollectionType, ref: string, subcollection: CollectionType): CollectionType {\r\n    return `${collection}/${ref}/${subcollection}` as CollectionType;\r\n  }\r\n  \r\n  getCollection<T>(collection: CollectionType, roomCode?: string): Observable<T[]> {\r\n    return this.game(roomCode).collection<T>(collection)\r\n      .valueChanges();\r\n  }\r\n  \r\n  getCollectionCount(collection: CollectionType, roomCode?: string): Observable<number> {\r\n    return this.game(roomCode).collection(collection)\r\n      .get()\r\n      .pipe(map((snapshot) => snapshot.size));\r\n  }\r\n  \r\n  getDocProperty<T>(collection: CollectionType, reference: string, property: DocProperty, roomCode?: string): Observable<T>{\r\n    return this.game(roomCode).collection(collection).doc(reference)\r\n      .valueChanges()\r\n      .pipe(map((o) => !!o ? o[property] : null));\r\n  }\r\n  \r\n  updateDocProperty(collection: CollectionType, reference: string, property: DocProperty, value: any, roomCode?:string): void {\r\n    const data = {};\r\n    data[property] = value;\r\n    \r\n    this.game(roomCode).collection(collection).doc(reference)\r\n      .update(data);\r\n  }\r\n  \r\n  addDoc(collection: CollectionType, doc: CollectionInterface, reference: string, roomCode?: string): void{\r\n    this.game(roomCode).collection(collection).doc(reference)\r\n      .set(doc);\r\n  }\r\n  \r\n  getDocFromArrayIndex<T>(collection: CollectionType, index: number, roomCode?: string): Observable<T> {\r\n    return this.getCollection<T>(collection, roomCode)\r\n      .pipe(map((docArray) => docArray[index]));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { BaseService } from './base.service';\nimport { MissionOutcome } from 'src/enums/mission-outcome';\nimport { Observable } from 'rxjs';\nimport { Game } from 'src/models/game';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameService {\n\n  constructor(private _base: BaseService) { }\n\n  get missionOutcomes(): Observable<MissionOutcome[]> {\n    return this._base.getGameProperty<MissionOutcome[]>('missionOutcomes');\n  }\n\n  get playerCount(): Observable<number> {\n    return this._base.getCollectionCount('player');\n  }\n\n  get noOfDownvotedTeams(): Observable<number> {\n    return this._base.getGameProperty('noOfDownvotedTeams');\n  }\n\n  get currentMission(): Observable<number> {\n    return this._base.getGameProperty('currentMission');\n  }\n\n  get getGame(): Observable<Game> {\n    return this._base.getGame();\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { newGame } from 'src/models/game';\r\nimport { first, map } from 'rxjs/operators';\r\nimport { Stage } from 'src/enums/stage.enum';\r\nimport { Session } from 'src/models/session';\r\nimport { newPlayer, Player } from 'src/models/player';\r\nimport { Observable, zip } from 'rxjs';\r\nimport { BaseService } from './base.service';\r\nimport { gameVariables } from 'src/game.variables';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n\r\n  constructor(private base: BaseService) {}\r\n\r\n  joinLobby(session: Session): Observable<void> {\r\n    const name = session.name;\r\n    const roomCode = session.roomCode;\r\n    console.log(`user \"${name}\" attempting to join room ${roomCode}`);\r\n    \r\n    return new Observable((observer) => {\r\n      zip(\r\n        this.doesRoomExist(roomCode),\r\n        this.isNameTaken(session),\r\n        this.isRoomFull(roomCode),\r\n        this.hasGameStarted(roomCode))\r\n        .pipe(first())\r\n        .subscribe(([roomExists,nameIsTaken,isRoomFull,hasGameStarted]) => {\r\n          if (!roomExists) {\r\n            observer.error('This room does not exist');\r\n          }\r\n          if (isRoomFull) {\r\n            observer.error('This room is full')\r\n          }\r\n          if (nameIsTaken) {\r\n            observer.error('Name is already taken');\r\n          }\r\n          if (hasGameStarted) {\r\n            observer.error('Game has already started');\r\n          }\r\n\r\n          if (roomExists && !nameIsTaken && !isRoomFull && !hasGameStarted) {\r\n            this.base.addDoc('player', newPlayer(session.name), session.name, roomCode);\r\n          }\r\n\r\n          observer.complete();\r\n        });\r\n    })\r\n  }\r\n\r\n  createLobby(): Observable<string> {\r\n    var roomCode: string\r\n    var everythingIsOkay: boolean;\r\n    var noOfAttempts = 0;\r\n    return new Observable((observer)=>{\r\n      do {\r\n        roomCode = this.randomRoomCode();\r\n        everythingIsOkay = true;\r\n        noOfAttempts++;\r\n  \r\n        this.doesRoomExist(roomCode)\r\n          .pipe(first())\r\n          .subscribe((exists) => {\r\n            if (exists) {\r\n              everythingIsOkay = false;\r\n            } else {\r\n              this.base.addGame(roomCode, newGame());\r\n              observer.next(roomCode);\r\n            }\r\n          });\r\n      } while (!everythingIsOkay && noOfAttempts < 200);\r\n\r\n      if (!everythingIsOkay){\r\n        observer.error('Something has gone wrong');\r\n      }\r\n    });\r\n  }\r\n\r\n  private randomRoomCode(): string {\r\n    return this.base.idGenerator();\r\n  }\r\n\r\n  private doesRoomExist(roomCode: string): Observable<boolean> {\r\n    return this.base.doesDocExist('','',roomCode);\r\n  }\r\n\r\n  private isNameTaken(session: Session): Observable<boolean> {\r\n    return this.base.doesDocExist('player',session.name,session.roomCode);\r\n  }\r\n\r\n  private isRoomFull(roomCode: string): Observable<boolean> {\r\n    return this.base.getCollection<Player>('player',roomCode)\r\n      .pipe(map((players) => players.length >= gameVariables.maxPlayers ));\r\n  }\r\n\r\n  private hasGameStarted(roomCode: string): Observable<boolean> {\r\n    return this.base.getGameProperty('stage',roomCode)\r\n      .pipe(map((stage: Stage) => stage !== Stage.NotBegun));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from './base.service';\r\nimport { newMission } from 'src/models/mission';\r\nimport { Observable, zip } from 'rxjs';\r\nimport { map, switchMap, first } from 'rxjs/operators';\r\nimport { MissionSize } from 'src/models/mission-size';\r\nimport { Player } from 'src/models/player';\r\nimport { NavService } from './nav.service';\r\nimport { Stage } from 'src/enums/stage.enum';\r\nimport { IMissionCard, cardsInPlay, missionCards, MissionCard } from 'src/enums/mission-card';\r\nimport { GameType } from 'src/enums/game-type';\r\nimport { MissionOutcome } from 'src/enums/mission-outcome';\r\nimport { Vote } from 'src/enums/vote.enum';\r\nimport { gameVariables } from 'src/game.variables';\r\nimport { Game } from 'src/models/game';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class MissionService {\r\n\r\n  constructor(private _base: BaseService,private _nav: NavService) { }\r\n\r\n  newMission(leader: number, missionNo: number): void {\r\n    this._base.updateGameProperty('leader',leader);\r\n    this._base.addDoc('mission', newMission(), missionNo.toString());\r\n  }\r\n\r\n  boolArray2Number(boolArray: boolean[]): number{\r\n    // Starts are array of booleans (e.g. [false,true,false, true])\r\n    const binaryArray = boolArray.map((bool) => (+bool)).reverse(); // Array of 0s and 1s (e.g. [1,0,1,0])\r\n    const charArray = binaryArray.map((bit) => bit.toString()); // Array of '0's and '1's (e.g. ['1','0','1','0'])\r\n    const binaryString = charArray.join(''); // String with '0' and '1' chars (e.g. '1010')\r\n    const decimalNumber = parseInt(binaryString,2); // Decimal value of the binary number (e.g. 10)\r\n    return decimalNumber;\r\n  }\r\n\r\n  number2BoolArray(decimalNumber: number): boolean[]{\r\n    // Starts as decimal value of the number (e.g. 10)\r\n    const binaryString = decimalNumber.toString(2);  // String with '0' and '1' chars (e.g. '1010')\r\n    const charArray = binaryString.split(''); // Array of '0's and '1's (e.g. ['1','0','1','0'])\r\n    const binaryArray = charArray.map((char) => parseInt(char)); // Array of 0s and 1s (e.g. [1,0,1,0])\r\n    const boolArray = binaryArray.map((number) => number ? true : false).reverse(); // Array of booleans (e.g. [false,true,false,true])\r\n    return boolArray;\r\n  }\r\n\r\n  currentLeader(): Observable<number> {\r\n    // TODO: maybe refactor this to output the leader number next and do the name logic in the component\r\n    return this._base.getGameProperty<number>('leader');\r\n  }\r\n\r\n  currentVotes(): Observable<Vote[]> {\r\n    return this._base.getGameProperty<Vote[]>('votes');\r\n  }\r\n\r\n  submitVote(vote: boolean, index: number): void {\r\n    //TODO update so it updates part of an array instead of just adding onto the end\r\n\r\n    const newVote = vote ? Vote.upvoted : Vote.downvoted;\r\n\r\n    this.currentVotes()\r\n      .pipe(\r\n        first(),\r\n        map((votes) => {votes[index] = newVote; return votes;}))\r\n      .subscribe((votes) => this._base.updateGameProperty('votes',votes))\r\n  }\r\n\r\n  getPlayers(): Observable<string[]> {\r\n    return this._base.getCollection<Player>('player')\r\n      .pipe(map((player)=>player.map((player)=>player.name)))\r\n  }\r\n\r\n  getTeamSize(): Observable<MissionSize> {\r\n    return zip(\r\n      this._base.getCollectionCount('player'),\r\n      this._base.getGameProperty<number>('currentMission')\r\n      ).pipe(\r\n        map(([playerCount,missionNo]) => this.teamSize(playerCount,missionNo))\r\n      )\r\n  }\r\n\r\n  getTeamPick(): Observable<boolean[]> {\r\n    return this._base.getGameProperty('team')\r\n  }\r\n\r\n  updateTeamPick(teamPick: boolean[]): void {\r\n    this._base.updateGameProperty('team',teamPick);\r\n  }\r\n\r\n  updateWait(wait: boolean): void {\r\n    this._base.updateGameProperty('wait',wait);\r\n  }\r\n\r\n  moveOn(hasItGoneAhead: boolean): void {\r\n    this.updateWait(false);\r\n\r\n    if(hasItGoneAhead === true){\r\n      this._base.getCollectionCount('player')\r\n        .pipe(first())\r\n        .subscribe((count) => {\r\n          this._base.updateGameProperty('playedCards', new Array(count).fill(MissionCard.none));\r\n          this._nav.goToStage(Stage.Mission);\r\n        })\r\n    } else if (hasItGoneAhead === false) {\r\n      // TODO: add to list of failed missions\r\n      // TODO: add to list of failed votes\r\n\r\n      zip(\r\n        this._base.getCollectionCount('player'),\r\n        this._base.getGame())\r\n        .pipe(first())\r\n        .subscribe(([playerCount,game]) => {\r\n          const newLeader = (game.leader + 1) % playerCount;\r\n\r\n          game.noOfDownvotedTeams = game.noOfDownvotedTeams + 1;\r\n\r\n          this._base.updateGameProperty('leader',newLeader);\r\n          this._base.updateGameProperty('votes',new Array(playerCount).fill(Vote.notVoted));\r\n          this._base.updateGameProperty('noOfDownvotedTeams', game.noOfDownvotedTeams);\r\n\r\n          if (this.isTheGameOver(game)) {\r\n            this._nav.goToStage(Stage.GameOver);\r\n          } else {\r\n            this._nav.goToStage(Stage.TeamPick);\r\n          }\r\n        })\r\n    } else {\r\n      console.error('Something has gone wrong');\r\n    }\r\n    // move to new page\r\n\r\n    //const nextLeader = this._base.getGameProperty('')\r\n  }\r\n\r\n  nextMission(didItPass: boolean):void {\r\n    zip(\r\n      this._base.getCollectionCount('player'),\r\n      this._base.getGame())\r\n      .pipe(first())\r\n      .subscribe(([playerCount,game]) => {\r\n        // set new leader\r\n        const newLeader = (game.leader + 1) % playerCount;\r\n        this._base.updateGameProperty('leader', newLeader);\r\n\r\n        // add mission outcome to the Game object\r\n        game.missionOutcomes[game.currentMission] = didItPass\r\n          ? MissionOutcome.pass\r\n          : MissionOutcome.fail;\r\n        this._base.updateGameProperty('missionOutcomes', game.missionOutcomes);\r\n\r\n        // wipe current Mission info (keep the team the same)\r\n        this._base.updateGameProperty('votes',new Array(playerCount).fill(Vote.notVoted));\r\n        this._base.updateGameProperty('playedCards',new Array(playerCount).fill(MissionCard.none));\r\n        this._base.updateGameProperty('noOfDownvotedTeams',0);\r\n\r\n        if (this.isTheGameOver(game)){\r\n          this._nav.goToStage(Stage.GameOver);\r\n        } else {\r\n          this._base.updateGameProperty('currentMission', game.currentMission + 1)\r\n          this._nav.goToStage(Stage.TeamPick);\r\n        }\r\n      })\r\n  }\r\n\r\n  updatePlayedCards(missionCards: MissionCard[]) {\r\n    this._base.updateGameProperty('playedCards', missionCards);\r\n  }\r\n\r\n  get getPlayedCards(): Observable<MissionCard[]> {\r\n    return this._base.getGameProperty('playedCards');\r\n  }\r\n\r\n  get getPlayableCards(): Observable<IMissionCard[]> {\r\n    return this._base.getGameProperty<GameType>('gameType')\r\n      .pipe(map((gameType) => cardsInPlay(gameType).map((card)=>missionCards[card])))\r\n  }\r\n  \r\n  get wait(): Observable<boolean> {\r\n    return this._base.getGameProperty('wait');\r\n  }\r\n  \r\n  private teamSize(noOfPlayers: number, missionNo: number): MissionSize {\r\n    return gameVariables.missionSizes[noOfPlayers-5][missionNo]\r\n  }\r\n  \r\n  private isTheGameOver(game: Game): boolean {\r\n    var missionOutcomes = game.missionOutcomes;\r\n    var noOfDownvotedTeams = game.noOfDownvotedTeams;\r\n\r\n    var noOfMissionsToWin = gameVariables.noOfMissionsToWin;\r\n    var maxNoOfVotesPerMission = gameVariables.maxNoOfVotesPerMission;\r\n\r\n    var noOfFails = missionOutcomes.filter((outcome) => outcome === MissionOutcome.fail).length;\r\n    var noOfPasses = missionOutcomes.filter((outcome) => outcome === MissionOutcome.pass).length;\r\n    \r\n    if (noOfFails >= noOfMissionsToWin || noOfPasses >= noOfMissionsToWin || noOfDownvotedTeams >= maxNoOfVotesPerMission){\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Stage } from 'src/enums/stage.enum';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { Player } from 'src/models/player';\nimport { BaseService } from './base.service';\nimport { first } from 'rxjs/operators';\nimport { Vote } from 'src/enums/vote.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavService {\n  constructor(private base: BaseService) {}\n\n  isConnectedToARoom$ = new BehaviorSubject<boolean>(false);\n\n  connectToRoom(roomCode: string): void {\n    this.base.connectToRoom(roomCode);\n    this.isConnectedToARoom$.next(true);\n  }\n\n  get currentStage(): Observable<Stage> {\n    return this.base.getGameProperty('stage');\n  }\n\n  get currentPlayers(): Observable<Player[]> {\n    return this.base.getCollection<Player>('player');\n  }\n\n  get startTime(): Observable<number> {\n    return this.base.getGameProperty('startTime');\n  }\n\n  goToStage(stage: Stage): void {\n    this.base.updateGameProperty('stage',stage);\n  }\n\n  startGame(): void {\n    const countdownMilliseconds = 4000;\n    const currentTime = new Date().getTime();\n    this.base.updateGameProperty('startTime', currentTime + countdownMilliseconds);\n\n    this.base.getCollectionCount('player')\n      .pipe(first())\n      .subscribe((playerCount) => {\n        this.base.updateGameProperty('votes', new Array(playerCount).fill(Vote.notVoted));\n        this.base.updateGameProperty('team', new Array(playerCount).fill(false));\n      })\n  }\n\n  cancel(): void {\n    this.base.updateGameProperty('startTime', null)\n  }\n}  \n","import { Injectable } from '@angular/core';\r\nimport { BaseService } from './base.service';\r\nimport { Player } from 'src/models/player';\r\nimport { Role } from 'src/enums/role.enum';\r\nimport { Team } from 'src/enums/team.enum';\r\nimport { first } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoleService {\r\n\r\n  constructor(private base: BaseService) { }\r\n\r\n  assignRoles(): void {\r\n    this.currentPlayers()\r\n      .pipe(first())\r\n      .subscribe((players) => {\r\n        let unassignedPlayers = players;\r\n        let allRoles = this.allRoles(players.length);\r\n\r\n        while (unassignedPlayers.length > 0) {\r\n          const whichPlayerIndexToAssign = this.randomInt(unassignedPlayers.length-1);\r\n          const roleToAssign = allRoles.pop();\r\n          const whichPlayerToAssign = unassignedPlayers.splice(whichPlayerIndexToAssign,1)[0];\r\n\r\n          this.base.updateDocProperty('player', whichPlayerToAssign.name, 'role', roleToAssign.role);\r\n          this.base.updateDocProperty('player', whichPlayerToAssign.name, 'team', roleToAssign.team);\r\n        }\r\n    })\r\n  }\r\n\r\n  currentPlayers(): Observable<Player[]> {\r\n    return this.base.getCollection<Player>('player');\r\n  }\r\n\r\n  private randomInt(max: number){\r\n    const randomInt = Math.floor(Math.random()*(max+1));\r\n\r\n    if (randomInt > max) { // if Math.random() returns exactly 1\r\n      return max;\r\n    }\r\n    return randomInt;\r\n  }\r\n\r\n  private allRoles(noOfPlayers: number): Player[] {\r\n    let roleArray = Array<Player>(noOfPlayers);\r\n    let noOfEachTypeArray = [\r\n      {noOfPlainResistance: 3, noOfPlainSpies: 2},\r\n      {noOfPlainResistance: 4, noOfPlainSpies: 2},\r\n      {noOfPlainResistance: 4, noOfPlainSpies: 3},\r\n      {noOfPlainResistance: 5, noOfPlainSpies: 3},\r\n      {noOfPlainResistance: 6, noOfPlainSpies: 3},\r\n      {noOfPlainResistance: 6, noOfPlainSpies: 4}\r\n    ]\r\n\r\n    const noOfEachType = noOfEachTypeArray[noOfPlayers-5];\r\n\r\n    const plainResistance: Player = {\r\n      name: null,\r\n      role: Role.regular,\r\n      team: Team.resistance\r\n    };\r\n    const plainSpy: Player = {\r\n      name: null,\r\n      role: Role.regular,\r\n      team: Team.spy\r\n    }\r\n\r\n    const allPlainResistance = Array<Player>(noOfEachType.noOfPlainResistance).fill(plainResistance);\r\n    const allPlainSpies = Array<Player>(noOfEachType.noOfPlainSpies).fill(plainSpy);\r\n\r\n    \r\n    const allPlayers = allPlainResistance.concat(allPlainSpies)\r\n\r\n    if (allPlayers.length !== noOfPlayers) { alert('wrong number of players')}\r\n\r\n    return allPlayers;\r\n  }\r\n}\r\n"],"sourceRoot":""}